<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- Definindo a cor da barra lateral-->
    <h:form style="background-color: rgba(230,230,230,0.05); height: 750px">
        <p:dialog  widgetVar="w_dlgLoading" header="Actualizando as Tabelas do CID-10" modal="true" closable="true" resizable="false">
            <img src="../../resources/Imagens/loading.gif" style="margin-left: 75px" width="128" height="128" alt="loading"/>
            <br/>
            <p>Pode demorar alguns minutos. Por favor aguarde....</p>
        </p:dialog>
        <p:dialog  widgetVar="loader" header="Actualizando Tabelas auxiliares." modal="true" closable="true" resizable="false">
            <img src="../../resources/Imagens/loading.gif" style="margin-left: 75px" width="128" height="128" alt="loading"/>
            <br/>
            <p>Pode demorar alguns minutos. Por favor aguarde...</p>
        </p:dialog>
        <p:panelMenu style="width: 100%">
            <p:submenu label="CID10" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}">
                <p:menuitem value="Actualizar Tabelas" action="#{ambBean.actualizarCid10Tabelas()}" onstart="PF('w_dlgLoading').show()" oncomplete="PF('w_dlgLoading').hide()" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[1])}"/>
                <p:menuitem value="Gerir Perfis" action="/ambVisao/ambCid/perfilGerirAmb.xhtml?faces-redirect=true" actionListener="#{ambCidPerfilGerirBean.init()}" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[2])}"/>
                <p:menuitem value="Configurar Perfis" action="/ambVisao/ambCid/configuracoesAmb.xhtml?faces-redirect=true" actionListener="#{ambCidConfiguracoesBean.init()}" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[3])}"/>
            </p:submenu>
            <p:submenu label="Consultas Externas" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}">
                <p:menuitem value="Actualizar Tabelas" action="#{ambActualizarCeTabelasBean.actualizarCeTabelas()}" onstart="PF('loader').show()" oncomplete="PF('loader').hide()" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>
                <p:submenu label="Enfermagem" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}">
                    <p:menuitem value="Triagem" action="/ambVisao/ambTriagem/triagemCriarAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>  
                </p:submenu>
                <p:submenu label="Atendimento">
                    <p:submenu label="Consultas">
                        <p:menuitem value="Consultas Externas" action="/ambVisao/ambConsultas/consultaCriarAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>  
                        <p:menuitem value="Reconsultas" action="/ambVisao/ambConsultas/reconsultaCriarAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>  
                    </p:submenu>
                    <p:menuitem value="Resultados" action="/ambVisao/ambDiagnosticos/diagnosticoCriarAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>
                    <p:menuitem value="Receitas" action="/ambVisao/ambReceitas/prescricaoMedicaAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>
                </p:submenu>
                <p:submenu label="Farmácia">
                    <p:submenu label="Medicamentos">
                        <p:menuitem value="Solicitação" action="/ambVisao/ambFarmacia/solicitacaoNovaAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>
                        <p:menuitem value="Movimentos" action="/ambVisao/ambFarmacia/movimentosAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>
                        <p:menuitem value="Consulta ao Stock Geral" action="/ambVisao/ambFarmacia/stockFarmaciaAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>
                    </p:submenu>       
                </p:submenu>
                <p:menuitem value="Solicitar Serviços" action="/ambVisao/ambAdms/solicitacoesAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>  
                <p:submenu label="Histórico">
                    <p:menuitem value="Histórico do Paciente" action="/ambVisao/ambHistorico/historicoAmb.xhtml?faces-redirect=true" rendered="#{segLoginBean.renderedFormulario(segLoginBean.controloDeAcesso.funcionalidadeAMB[0])}"/>
                </p:submenu>
            </p:submenu>
        </p:panelMenu>
    </h:form>
</ui:composition>
